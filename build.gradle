buildscript {
    repositories {
        jcenter()
        maven { url "https://plugins.gradle.org/m2/" }
    }
    dependencies {
        classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.+'
        classpath "gradle.plugin.jaci.openrio.gradle:GradleRIO:2018.03.06"
        classpath "com.diffplug.spotless:spotless-plugin-gradle:3.15.0"
    }
}

configure(subprojects) {
    group = 'org.strykeforce.thirdcoast'
    version = '18.7.5'

    apply plugin: 'java-library'
    apply plugin: 'idea'
    apply plugin: 'groovy'

    repositories {
        jcenter()
    }

    dependencies {
        implementation 'org.slf4j:slf4j-api:1.7.25'

        compileOnly 'com.google.code.findbugs:jsr305:3.0.2'

        testImplementation 'org.spockframework:spock-core:1.1-groovy-2.4'
        testImplementation 'ch.qos.logback:logback-classic:1.2.3'
        testRuntime 'net.bytebuddy:byte-buddy:1.7.10'
        testRuntime 'org.objenesis:objenesis:2.6'
    }

    idea {
        module {
            downloadJavadoc = true
            downloadSources = true
        }
    }
}

configure(subprojects - project(":deadeye")) {
    apply plugin: 'jaci.openrio.gradle.GradleRIO'

    wpi {
        ctreVersion = "5.7.1.0"
    }

    dependencies {
        implementation wpilib()
        implementation ctre()
    }
}
